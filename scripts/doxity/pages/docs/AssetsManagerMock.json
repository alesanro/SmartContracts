{"fileName":"/contracts/helpers/AssetsManagerMock.sol","name":"AssetsManagerMock","abi":[{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"_symbol","type":"bytes32"},{"name":"owner","type":"address"}],"name":"addAsset","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"}],"name":"getAssetsForOwnerCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_contractsManager","type":"address"}],"name":"init","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getAssetsSymbols","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_symbol","type":"bytes32"},{"name":"_user","type":"address"}],"name":"isAssetOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"symbol","type":"bytes32"}],"name":"getAssetBySymbol","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAssetsSymbolsCount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"},{"name":"_index","type":"uint256"}],"name":"getAssetForOwnerAtIndex","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"}],"name":"getAssetsForOwner","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_platform","type":"address"}],"name":"requestTokenExtension","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_symbol","type":"bytes32"}],"name":"isAssetSymbolExists","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_platform","type":"address"}],"name":"getTokenExtension","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"}],"source":"pragma solidity ^0.4.11;\n\nimport \"../core/contracts/ContractsManagerInterface.sol\";\nimport \"../assets/AssetsManagerInterface.sol\";\n\ncontract AssetsManagerMock is AssetsManagerInterface {\n\n    uint constant OK = 1;\n\n    address contractsManager;\n    bytes32[] symbols;\n    mapping(bytes32 => address) assets;\n\n    function init(address _contractsManager) returns(bool) {\n        if(contractsManager != 0x0) {\n            return false;\n        }\n\n        uint errorCode = ContractsManagerInterface(_contractsManager).addContract(this, \"AssetsManager\");\n        if (OK != errorCode) {\n            return false;\n        }\n\n        contractsManager = _contractsManager;\n        return true;\n    }\n\n\n    function isAssetSymbolExists(bytes32 _symbol) constant returns (bool) {\n        return assets[_symbol] != 0x0;\n    }\n\n    function getAssetsSymbols() constant returns (bytes32[]) {\n        return symbols;\n    }\n\n    function getAssetsSymbolsCount() constant returns (uint) {\n        return symbols.length;\n    }\n\n    function getAssetBySymbol(bytes32 symbol) constant returns (address) {\n        return assets[symbol];\n    }\n\n    function addAsset(address asset, bytes32 _symbol, address owner) returns (bool) {\n        if (assets[_symbol] == 0x0) {\n            symbols.push(_symbol);\n            assets[_symbol] = asset;\n            return true;\n        }\n        return false;\n    }\n\n    function() {\n        revert();\n    }\n\n    function getAssetsForOwner(address platform, address owner) constant returns (bytes32[]) {\n        return symbols;\n    }\n\n    function getAssetsForOwnerCount(address platform, address owner) constant returns (uint) {\n        return symbols.length;\n    }\n\n    function getAssetForOwnerAtIndex(address platform, address owner, uint _index) constant returns (bytes32) {\n        return symbols[_index];\n    }\n\n    function isAssetOwner(bytes32 _symbol, address _user) constant returns (bool) {\n        return true;\n    }\n\n    function getTokenExtension(address _platform) constant returns (address) {\n        revert();\n    }\n\n    function requestTokenExtension(address _platform) returns (uint) {\n        revert();\n    }\n}\n","abiDocs":[{"constant":false,"inputs":[{"name":"asset","type":"address"},{"name":"_symbol","type":"bytes32"},{"name":"owner","type":"address"}],"name":"addAsset","payable":false,"stateMutability":"nonpayable","type":"function","signature":"addAsset(address,bytes32,address)","signatureHash":"0c019403"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"}],"name":"getAssetsForOwnerCount","payable":false,"stateMutability":"view","type":"function","signature":"getAssetsForOwnerCount(address,address)","signatureHash":"17db1071"},{"constant":false,"inputs":[{"name":"_contractsManager","type":"address"}],"name":"init","payable":false,"stateMutability":"nonpayable","type":"function","signature":"init(address)","signatureHash":"19ab453c"},{"constant":true,"inputs":[],"name":"getAssetsSymbols","payable":false,"stateMutability":"view","type":"function","signature":"getAssetsSymbols()","signatureHash":"1d7cda76"},{"constant":true,"inputs":[{"name":"_symbol","type":"bytes32"},{"name":"_user","type":"address"}],"name":"isAssetOwner","payable":false,"stateMutability":"view","type":"function","signature":"isAssetOwner(bytes32,address)","signatureHash":"25742b46"},{"constant":true,"inputs":[{"name":"symbol","type":"bytes32"}],"name":"getAssetBySymbol","payable":false,"stateMutability":"view","type":"function","signature":"getAssetBySymbol(bytes32)","signatureHash":"28aea08b"},{"constant":true,"inputs":[],"name":"getAssetsSymbolsCount","payable":false,"stateMutability":"view","type":"function","signature":"getAssetsSymbolsCount()","signatureHash":"296618c1"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"},{"name":"_index","type":"uint256"}],"name":"getAssetForOwnerAtIndex","payable":false,"stateMutability":"view","type":"function","signature":"getAssetForOwnerAtIndex(address,address,uint256)","signatureHash":"2cd060ce"},{"constant":true,"inputs":[{"name":"platform","type":"address"},{"name":"owner","type":"address"}],"name":"getAssetsForOwner","payable":false,"stateMutability":"view","type":"function","signature":"getAssetsForOwner(address,address)","signatureHash":"2dede55a"},{"constant":false,"inputs":[{"name":"_platform","type":"address"}],"name":"requestTokenExtension","payable":false,"stateMutability":"nonpayable","type":"function","signature":"requestTokenExtension(address)","signatureHash":"c97f5787"},{"constant":true,"inputs":[{"name":"_symbol","type":"bytes32"}],"name":"isAssetSymbolExists","payable":false,"stateMutability":"view","type":"function","signature":"isAssetSymbolExists(bytes32)","signatureHash":"d5ed0d17"},{"constant":true,"inputs":[{"name":"_platform","type":"address"}],"name":"getTokenExtension","payable":false,"stateMutability":"view","type":"function","signature":"getTokenExtension(address)","signatureHash":"e5ebb7a5"},{"payable":false,"stateMutability":"nonpayable","type":"fallback","inputs":[]}]}

{"fileName":"/contracts/assets/KrakenPriceTicker.sol","name":"KrakenPriceTicker","abi":[{"constant":false,"inputs":[{"name":"_interval","type":"uint256"}],"name":"setInterval","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"rate","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"myid","type":"bytes32"},{"name":"result","type":"string"},{"name":"proof","type":"bytes"}],"name":"__callback","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"claimContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"}],"name":"changeContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"url","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"pendingContractOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_url","type":"string"}],"name":"setURL","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_formater","type":"string"}],"name":"setFormater","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"interval","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"update","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"}],"name":"transferContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"contractOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"formater","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dev","type":"bool"},{"name":"_url","type":"string"},{"name":"_formater","type":"string"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"description","type":"string"}],"name":"newOraclizeQuery","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"price","type":"string"}],"name":"newKrakenPriceTicker","type":"event"}],"source":"/*\n   Universal price ticker\n\n   This contract keeps in storage an updated Token price,\n   which is updated every ~60 seconds.\n*/\n\npragma solidity ^0.4.11;\nimport \"../core/common/Managed.sol\";\nimport \"../core/common/Owned.sol\";\n\ncontract KrakenPriceTicker is Owned {\n\n    address delegate;\n\n    string public rate;\n    string public url;  // for example \"https://api.kraken.com/0/public/Ticker?pair=ETHXBT\";\n    string public formater; //for example \"result.XETHXXBT.c.0\";\n    uint public interval = 1;\n\n    event newOraclizeQuery(string description);\n    event newKrakenPriceTicker(string price);\n\n    function init(bool _dev, string _url, string _formater) {\n        url = _url;\n        formater = _formater;\n    }\n\n    function __callback(bytes32 myid, string result, bytes proof) {\n        revert();\n\n        rate = result;\n        newKrakenPriceTicker(rate);\n    }\n\n    function setURL(string _url) onlyContractOwner returns(bool) {\n        url = _url;\n        return true;\n    }\n\n    function setFormater(string _formater) onlyContractOwner returns(bool) {\n        formater = _formater;\n        return true;\n    }\n\n    function setInterval(uint _interval) onlyContractOwner  returns(bool) {\n        interval = _interval;\n        return true;\n    }\n\n    function update() payable {\n        revert();\n    }\n\n}\n","abiDocs":[{"constant":false,"inputs":[{"name":"_interval","type":"uint256"}],"name":"setInterval","payable":false,"stateMutability":"nonpayable","type":"function","signature":"setInterval(uint256)","signatureHash":"22a90082"},{"constant":true,"inputs":[],"name":"rate","payable":false,"stateMutability":"view","type":"function","signature":"rate()","signatureHash":"2c4e722e"},{"constant":false,"inputs":[{"name":"myid","type":"bytes32"},{"name":"result","type":"string"},{"name":"proof","type":"bytes"}],"name":"__callback","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"__callback(bytes32,string,bytes)","signatureHash":"38bbfa50"},{"constant":false,"inputs":[],"name":"claimContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","return":"success.","notice":"Finalize ownership pass.     * Can only be called by pending owner.","signature":"claimContractOwnership()","signatureHash":"4592cd1d"},{"constant":false,"inputs":[{"name":"_to","type":"address","description":"address of the next owner. 0x0 is not allowed."}],"name":"changeContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","return":"success.","notice":"Prepares ownership pass.     * Can only be called by current owner.","signature":"changeContractOwnership(address)","signatureHash":"557f4bc9"},{"constant":true,"inputs":[],"name":"url","payable":false,"stateMutability":"view","type":"function","signature":"url()","signatureHash":"5600f04f"},{"constant":true,"inputs":[],"name":"pendingContractOwner","payable":false,"stateMutability":"view","type":"function","signature":"pendingContractOwner()","signatureHash":"5aa77d3c"},{"constant":false,"inputs":[{"name":"_url","type":"string"}],"name":"setURL","payable":false,"stateMutability":"nonpayable","type":"function","signature":"setURL(string)","signatureHash":"77343408"},{"constant":false,"inputs":[],"name":"destroy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","details":"Destroy contract and scrub a data","notice":"Only owner can call it","signature":"destroy()","signatureHash":"83197ef0"},{"constant":false,"inputs":[{"name":"_formater","type":"string"}],"name":"setFormater","payable":false,"stateMutability":"nonpayable","type":"function","signature":"setFormater(string)","signatureHash":"85ae387d"},{"constant":true,"inputs":[],"name":"interval","payable":false,"stateMutability":"view","type":"function","signature":"interval()","signatureHash":"947a36fb"},{"constant":false,"inputs":[],"name":"update","outputs":[],"payable":true,"stateMutability":"payable","type":"function","signature":"update()","signatureHash":"a2e62045"},{"constant":false,"inputs":[{"name":"_to","type":"address","description":"the next contract owner"}],"name":"transferContractOwnership","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function","details":"Direct ownership pass without change/claim pattern. Can be invoked only by current contract owner","return":"`true` if success, `false` otherwise","signature":"transferContractOwnership(address)","signatureHash":"a843c51f"},{"constant":true,"inputs":[],"name":"contractOwner","payable":false,"stateMutability":"view","type":"function","signature":"contractOwner()","signatureHash":"ce606ee0"},{"constant":true,"inputs":[],"name":"formater","payable":false,"stateMutability":"view","type":"function","signature":"formater()","signatureHash":"d3687996"},{"constant":false,"inputs":[{"name":"_dev","type":"bool"},{"name":"_url","type":"string"},{"name":"_formater","type":"string"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function","signature":"init(bool,string,string)","signatureHash":"d8b18417"},{"anonymous":false,"inputs":[{"indexed":false,"name":"description","type":"string"}],"name":"newOraclizeQuery","type":"event","signature":"newOraclizeQuery(string)","signatureHash":"46cb989e"},{"anonymous":false,"inputs":[{"indexed":false,"name":"price","type":"string"}],"name":"newKrakenPriceTicker","type":"event","signature":"newKrakenPriceTicker(string)","signatureHash":"f5d9356e"}]}
